version: api.keploy.io/v1beta2
kind: Mongo
name: mocks
spec:
    metadata:
        operation: '{ OpMsg flags: 0, sections: [{ SectionSingle msg: {"update":"url-shortener","ordered":true,"writeConcern":{"w":"majority"},"lsid":{"id":{"$binary":{"base64":"UBs/Hwj8SyyFsVqh7pIxkg==","subType":"04"}}},"$db":"keploy"} }, { SectionSingle identifier: updates , msgs: [ {"q":{"_id":"Lhr4BWAi"},"u":{"$set":{"_id":"Lhr4BWAi","created":{"$date":{"$numberLong":"1690619148741"}},"updated":{"$date":{"$numberLong":"1690619148741"}},"url":"https://google.com"}},"upsert":true} ] }], checksum: 0 }'
    requests:
        - header:
            length: 301
            requestId: 5
            responseTo: 0
            Opcode: 2013
          message:
            flagBits: 0
            sections:
                - '{ SectionSingle msg: {"update":"url-shortener","ordered":true,"writeConcern":{"w":"majority"},"lsid":{"id":{"$binary":{"base64":"UBs/Hwj8SyyFsVqh7pIxkg==","subType":"04"}}},"$db":"keploy"} }'
                - '{ SectionSingle identifier: updates , msgs: [ {"q":{"_id":"Lhr4BWAi"},"u":{"$set":{"_id":"Lhr4BWAi","created":{"$date":{"$numberLong":"1690619148741"}},"updated":{"$date":{"$numberLong":"1690619148741"}},"url":"https://google.com"}},"upsert":true} ] }'
            checksum: 0
          read_delay: 89790
    responses:
        - header:
            length: 60
            requestId: 361
            responseTo: 5
            Opcode: 2013
          message:
            flagBits: 0
            sections:
                - '{ SectionSingle msg: {"n":{"$numberInt":"1"},"nModified":{"$numberInt":"1"},"ok":{"$numberDouble":"1.0"}} }'
            checksum: 0
          read_delay: 2619825
    created: 1690619148
---
version: api.keploy.io/v1beta2
kind: Mongo
name: mocks
spec:
    metadata:
        operation: '{ OpMsg flags: 0, sections: [{ SectionSingle msg: {"find":"url-shortener","filter":{"_id":"Lhr4BWAi"},"limit":{"$numberLong":"1"},"singleBatch":true,"lsid":{"id":{"$binary":{"base64":"UBs/Hwj8SyyFsVqh7pIxkg==","subType":"04"}}},"$db":"keploy"} }], checksum: 0 }'
    requests:
        - header:
            length: 162
            requestId: 7
            responseTo: 0
            Opcode: 2013
          message:
            flagBits: 0
            sections:
                - '{ SectionSingle msg: {"find":"url-shortener","filter":{"_id":"Lhr4BWAi"},"limit":{"$numberLong":"1"},"singleBatch":true,"lsid":{"id":{"$binary":{"base64":"UBs/Hwj8SyyFsVqh7pIxkg==","subType":"04"}}},"$db":"keploy"} }'
            checksum: 0
          read_delay: 5966472001
    responses:
        - header:
            length: 197
            requestId: 364
            responseTo: 7
            Opcode: 2013
          message:
            flagBits: 0
            sections:
                - '{ SectionSingle msg: {"cursor":{"firstBatch":[{"_id":"Lhr4BWAi","created":{"$date":{"$numberLong":"1690619148741"}},"updated":{"$date":{"$numberLong":"1690619148741"}},"url":"https://google.com"}],"id":{"$numberLong":"0"},"ns":"keploy.url-shortener"},"ok":{"$numberDouble":"1.0"}} }'
            checksum: 0
          read_delay: 7570679
    created: 1690619154
---
version: api.keploy.io/v1beta2
kind: Mongo
name: mocks
spec:
    metadata:
        operation: '{ OpMsg flags: 0, sections: [{ SectionSingle msg: {"find":"url-shortener","filter":{"_id":"Lhr4BWAii"},"limit":{"$numberLong":"1"},"singleBatch":true,"lsid":{"id":{"$binary":{"base64":"UBs/Hwj8SyyFsVqh7pIxkg==","subType":"04"}}},"$db":"keploy"} }], checksum: 0 }'
    requests:
        - header:
            length: 163
            requestId: 9
            responseTo: 0
            Opcode: 2013
          message:
            flagBits: 0
            sections:
                - '{ SectionSingle msg: {"find":"url-shortener","filter":{"_id":"Lhr4BWAii"},"limit":{"$numberLong":"1"},"singleBatch":true,"lsid":{"id":{"$binary":{"base64":"UBs/Hwj8SyyFsVqh7pIxkg==","subType":"04"}}},"$db":"keploy"} }'
            checksum: 0
          read_delay: 7436905225
    responses:
        - header:
            length: 109
            requestId: 367
            responseTo: 9
            Opcode: 2013
          message:
            flagBits: 0
            sections:
                - '{ SectionSingle msg: {"cursor":{"firstBatch":[],"id":{"$numberLong":"0"},"ns":"keploy.url-shortener"},"ok":{"$numberDouble":"1.0"}} }'
            checksum: 0
          read_delay: 448795
    created: 1690619162
